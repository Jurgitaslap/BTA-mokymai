<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <title>Uždavinys15</title>
    <style>
        h2,
        tr {
            text-align: center;
        }
    </style>
</head>

<body>
    <h2>Užpildykite laukus</h2>
    <table class="table table-bordered">
        <thead>
            <tr style="background-color: black; color: white;">
                <th scope="col"><div onclick="sort('data')">Data</div></th>
                <th scope="col"><div onclick="sort('numeris')">Valstybinis Nr.</div></th>
                <th scope="col"><div onclick="sort('atstumas')">Atstumas (m)</div></th>
                <th scope="col"><div onclick="sort('laikas')">Laikas (s)</div></th>
                <th scope="col"><div onclick="sort('greitis')">Greitis (km/h)</div></th>
                <th scope="col">Veiksmai</th>
            </tr>
            <tr>
                <td scope="col">
                    <input type="text" id="d" placeholder="">
                </td>
                <td scope="col">
                    <input type="text" id="n" placeholder="">
                </td>
                <td scope="col">
                    <input type="number" id="a" placeholder="">
                </td>
                <td scope="col">
                    <input type="number" id="l" placeholder="">
                </td>
                <td scope="col"></td>
                <td scope="col">
                    <button type="submit" class="btn btn-secondary" onclick="myFunction()">Įkelti</button>
                </td>
            </tr>
        </thead>
        <tbody id="x">

        </tbody>
    </table>
    <script>

        function myFunction() {
            function getVar(duomenys) {
                return document.getElementById(duomenys).value;
            }
            var data = getVar("d");
            var numeris = getVar("n");
            var atstumas = parseInt(getVar("a"));
            var laikas = parseInt(getVar("l"));
            var visi = [data, numeris, atstumas, laikas];
            var gr = (visi[2] / visi[3]) * 3.6;
            var g = Math.round(gr, 0);
            visi.push(g);

            var informacija = "";
            informacija += "<tr>";

            for (i = 0; i < visi.length; i++) {
                informacija += "<td>" + visi[i] + "</td>"
            }
            informacija += "</tr>";
            document.querySelector('tbody').innerHTML += informacija;



            function salinti(duomenys) {
                document.getElementById(duomenys).value = "";
            }
            salinti("d");
            salinti("n");
            salinti("a");
            salinti("l");
        }
            var sortOrder;
            function sort(laukas) {
                sortOrder = (a, b) => {
                    return a[laukas] < b[laukas] ? -1 : a[laukas] > b[laukas] ? 1 : 0;
                }
                lentele();
            }
            lentele() 
            
            function lentele() {
                var lentele = "";
                sortOrder = sortOrder || sort('data');
                informacija.sort(sortOrder);
                informacija.forEach ((a, i) => {
                    lentele +=
                    '<tr>' +
                    '<td>' + a.data + '</td>' +
                    '<td>' + a.numeris + '</td>' +
                    '<td>' + a.laikas + '</td>' +
                    '<td>' + (a.atstumas / a.laikas * 3.6).toFixed(0) + '</td>' +
                    '<td><button onclick="trinti(' + i + ')">Trinti</button></td>'
                    '</tr>';
                });
    document.getElementById('a').innerHTML = lentele;
            }

            function add() {
                informacija.push({'data': document.getQuerySelector('#data').value});
                lentele();
                document.querySelector('#data').value = '';
            }

    function trinti(index) {
        informacija.splice(index, 1);
        lentele();
    }
    </script>

</body>

</html>